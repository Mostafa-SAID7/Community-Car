@model CommunityCar.Mvc.Areas.Dashboard.ViewModels.Dashboard.DashboardSummaryViewModel
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["Dashboard"];
}

<div class="dashboard-container">
    <!-- Dashboard Header -->
    <div class="dashboard-page-header">
        <div class="dashboard-header-content">
            <div class="dashboard-header-text">
                <h1 class="dashboard-title">@Localizer["Dashboard Overview"]</h1>
                <p class="dashboard-subtitle">@Localizer["Welcome back! Here's what's happening."]</p>
            </div>
            <div class="dashboard-header-actions">
                <button class="dashboard-btn dashboard-btn-secondary" onclick="location.reload()">
                    <i class="fas fa-sync-alt"></i>
                    <span>@Localizer["Refresh"]</span>
                </button>
                <div class="dashboard-dropdown dropdown">
                    <button type="button" class="dashboard-btn bg-red" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-download"></i>
                        <span>@Localizer["Export"]</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <ul class="dashboard-dropdown-menu dropdown-menu">
                        <li><a class="dashboard-dropdown-item dropdown-item" href="/@ViewContext.RouteData.Values["culture"]/Dashboard/ExportReport?format=csv">
                            <i class="fas fa-file-csv"></i>CSV
                        </a></li>
                        <li><a class="dashboard-dropdown-item dropdown-item" href="/@ViewContext.RouteData.Values["culture"]/Dashboard/ExportReport?format=json">
                            <i class="fas fa-file-code"></i>JSON
                        </a></li>
                        <li><a class="dashboard-dropdown-item dropdown-item" href="/@ViewContext.RouteData.Values["culture"]/Dashboard/ExportReport?format=pdf">
                            <i class="fas fa-file-pdf"></i>PDF
                        </a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Navigation Tabs -->
    <div class="dashboard-nav-tabs">
        <div class="dashboard-tabs-container">
            <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard" 
               class="dashboard-tab @(ViewContext.RouteData.Values["controller"]?.ToString() == "Dashboard" && ViewContext.RouteData.Values["action"]?.ToString() == "Index" ? "active" : "")">
                <i class="fas fa-chart-line"></i>
                <span>@Localizer["Overview"]</span>
            </a>
            <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/KPIs" 
               class="dashboard-tab @(ViewContext.RouteData.Values["controller"]?.ToString() == "KPIs" ? "active" : "")">
                <i class="fas fa-chart-bar"></i>
                <span>@Localizer["KPIs"]</span>
            </a>
            <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/Trends" 
               class="dashboard-tab @(ViewContext.RouteData.Values["controller"]?.ToString() == "Trends" ? "active" : "")">
                <i class="fas fa-chart-area"></i>
                <span>@Localizer["Trends"]</span>
            </a>
            <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/Widgets" 
               class="dashboard-tab @(ViewContext.RouteData.Values["controller"]?.ToString() == "Widgets" ? "active" : "")">
                <i class="fas fa-th"></i>
                <span>@Localizer["Widgets"]</span>
            </a>
        </div>
    </div>

    <!-- Statistics Cards -->
    <div class="dashboard-stats-grid">
        <div class="dashboard-stat-card dashboard-stat-card-primary">
            <div class="dashboard-stat-content">
                <div class="dashboard-stat-icon dashboard-stat-icon-primary">
                    <i class="fas fa-users"></i>
                </div>
                <div class="dashboard-stat-info">
                    <div class="dashboard-stat-label">@Localizer["Total Users"]</div>
                    <div class="dashboard-stat-value">@Model.TotalUsers.ToString("N0")</div>
                    <div class="dashboard-stat-change dashboard-stat-change-positive">
                        <i class="fas fa-arrow-up"></i>@Model.UserGrowthPercentage.ToString("F1")% @Localizer["from last month"]
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-stat-card dashboard-stat-card-success">
            <div class="dashboard-stat-content">
                <div class="dashboard-stat-icon dashboard-stat-icon-success">
                    <i class="fas fa-user-friends"></i>
                </div>
                <div class="dashboard-stat-info">
                    <div class="dashboard-stat-label">@Localizer["Friendships"]</div>
                    <div class="dashboard-stat-value">@Model.TotalFriendships.ToString("N0")</div>
                    <div class="dashboard-stat-change dashboard-stat-change-positive">
                        <i class="fas fa-arrow-up"></i>8% @Localizer["from last month"]
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-stat-card dashboard-stat-card-warning">
            <div class="dashboard-stat-content">
                <div class="dashboard-stat-icon dashboard-stat-icon-warning">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <div class="dashboard-stat-info">
                    <div class="dashboard-stat-label">@Localizer["Active Events"]</div>
                    <div class="dashboard-stat-value">@Model.ActiveEvents.ToString("N0")</div>
                    <div class="dashboard-stat-change dashboard-stat-change-info">
                        <i class="fas fa-calendar"></i>@Localizer["This month"]
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-stat-card dashboard-stat-card-info">
            <div class="dashboard-stat-content">
                <div class="dashboard-stat-icon dashboard-stat-icon-info">
                    <i class="fas fa-heart-pulse"></i>
                </div>
                <div class="dashboard-stat-info">
                    <div class="dashboard-stat-label">@Localizer["System Health"]</div>
                    <div class="dashboard-stat-value">@Model.SystemHealth%</div>
                    <div class="dashboard-stat-change dashboard-stat-change-positive">
                        <i class="fas fa-check-circle"></i>@Localizer["All systems operational"]
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Metrics Row -->
    <div class="dashboard-metrics-grid">
        <div class="dashboard-metric-card dashboard-metric-card-primary">
            <div class="dashboard-metric-label">@Localizer["Total Posts"]</div>
            <div class="dashboard-metric-value">@Model.TotalPosts.ToString("N0")</div>
        </div>
        <div class="dashboard-metric-card dashboard-metric-card-info">
            <div class="dashboard-metric-label">@Localizer["Questions"]</div>
            <div class="dashboard-metric-value">@Model.TotalQuestions.ToString("N0")</div>
        </div>
        <div class="dashboard-metric-card dashboard-metric-card-success">
            <div class="dashboard-metric-label">@Localizer["Groups"]</div>
            <div class="dashboard-metric-value">@Model.TotalGroups.ToString("N0")</div>
        </div>
        <div class="dashboard-metric-card dashboard-metric-card-warning">
            <div class="dashboard-metric-label">@Localizer["Reviews"]</div>
            <div class="dashboard-metric-value">@Model.TotalReviews.ToString("N0")</div>
        </div>
        <div class="dashboard-metric-card dashboard-metric-card-danger">
            <div class="dashboard-metric-label">@Localizer["Guides"]</div>
            <div class="dashboard-metric-value">@Model.TotalGuides.ToString("N0")</div>
        </div>
        <div class="dashboard-metric-card dashboard-metric-card-secondary">
            <div class="dashboard-metric-label">@Localizer["News"]</div>
            <div class="dashboard-metric-value">@Model.TotalNews.ToString("N0")</div>
        </div>
    </div>

    <div class="dashboard-content-grid">
        <!-- Left Column: Charts and Activity -->
        <div class="dashboard-content-main">
            <!-- Weekly Activity Chart -->
            <div class="dashboard-card bg-red">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["Weekly Activity"]</h5>
                    <div class="dashboard-btn-group">
                        <button type="button" class="dashboard-btn-group-item active" data-period="week">@Localizer["Week"]</button>
                        <button type="button" class="dashboard-btn-group-item" data-period="month">@Localizer["Month"]</button>
                        <button type="button" class="dashboard-btn-group-item" data-period="year">@Localizer["Year"]</button>
                    </div>
                </div>
                <div class="dashboard-card-body">
                    <canvas id="activityChart" height="80"></canvas>
                </div>
            </div>

            <!-- User Growth Trend Chart -->
            <div class="dashboard-card bg-red">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["User Growth Trend"]</h5>
                </div>
                <div class="dashboard-card-body">
                    <canvas id="growthChart" height="80"></canvas>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="dashboard-card dashboard-card-warning">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["Recent Activity"]</h5>
                    <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/Monitoring/Audit" class="dashboard-btn dashboard-btn-sm dashboard-btn-danger">
                        @Localizer["View All"]
                    </a>
                </div>
                <div class="dashboard-card-body">
                    <div class="dashboard-table">
                        <table class="dashboard-table dashboard-table-activity">
                            <thead>
                                <tr>
                                    <th>@Localizer["Time"]</th>
                                    <th>@Localizer["User"]</th>
                                    <th>@Localizer["Action"]</th>
                                    <th>@Localizer["Status"]</th>
                                </tr>
                            </thead>
                            <tbody>
                                @{
                                    var recentActivity = ViewBag.RecentActivity as IEnumerable<CommunityCar.Domain.DTOs.Dashboard.RecentActivityDto> ?? Enumerable.Empty<CommunityCar.Domain.DTOs.Dashboard.RecentActivityDto>();
                                }
                                @if (recentActivity.Any())
                                {
                                    @foreach (var activity in recentActivity)
                                    {
                                        <tr>
                                            <td>
                                                <span class="dashboard-table-time">@activity.Timestamp.ToString("HH:mm")</span>
                                                <span class="dashboard-table-date">@activity.Timestamp.ToString("MMM dd")</span>
                                            </td>
                                            <td>
                                                <div class="dashboard-table-user">
                                                    <i class="fas fa-user-circle dashboard-table-user-icon"></i>
                                                    <span>@activity.UserName</span>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="dashboard-table-action">
                                                    @if (activity.ActivityType == "Registration")
                                                    {
                                                        <i class="fas fa-user-plus dashboard-table-action-icon dashboard-table-action-icon-primary"></i>
                                                    }
                                                    else if (activity.ActivityType == "Post")
                                                    {
                                                        <i class="fas fa-file-alt dashboard-table-action-icon dashboard-table-action-icon-info"></i>
                                                    }
                                                    else if (activity.ActivityType == "Question")
                                                    {
                                                        <i class="fas fa-question-circle dashboard-table-action-icon dashboard-table-action-icon-warning"></i>
                                                    }
                                                    else if (activity.ActivityType == "Review")
                                                    {
                                                        <i class="fas fa-star dashboard-table-action-icon dashboard-table-action-icon-success"></i>
                                                    }
                                                    else
                                                    {
                                                        <i class="fas fa-info-circle dashboard-table-action-icon dashboard-table-action-icon-secondary"></i>
                                                    }
                                                    <span>@activity.Action</span>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="dashboard-badge dashboard-badge-@(activity.Status.ToLower())">@activity.Status</span>
                                            </td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="4" class="dashboard-table-empty">
                                            <i class="fas fa-inbox"></i>
                                            <span>@Localizer["Dashboard.NoRecentActivity"]</span>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Users by Location (Geo Chart) -->
            <div class="dashboard-card dashboard-card-warning">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["Dashboard.UsersByLocation"]</h5>
                </div>
                <div class="dashboard-card-body">
                    <div id="geoChart" style="width: 100%; height: 300px;"></div>
                    
                    <!-- Active Users Indicator -->
                    <div class="dashboard-active-users-indicator">
                        <span class="dashboard-active-users-text">
                            @Model.ActiveUsersToday.ToString("N0") @Localizer["Active Users Today"]
                        </span>
                    </div>
                    
                    <div class="dashboard-progress-wrapper">
                        <div class="dashboard-progress-header">
                            <span class="dashboard-progress-label">@Localizer["Engagement Rate"]</span>
                            <span class="dashboard-progress-value">@Model.EngagementRate.ToString("F1")%</span>
                        </div>
                        <div class="dashboard-progress">
                            <div class="dashboard-progress-bar dashboard-progress-bar-success" style="width: @Model.EngagementRate%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column: Widgets -->
        <div class="dashboard-content-sidebar">
            <!-- Content Distribution Chart -->
            <div class="dashboard-card bg-red">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["Content Distribution"]</h5>
                </div>
                <div class="dashboard-card-body">
                    <canvas id="contentChart" height="200"></canvas>
                </div>
            </div>

            <!-- System Status -->
            <div class="dashboard-card dashboard-card-info">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["System Status"]</h5>
                </div>
                <div class="dashboard-card-body">
                    <div class="dashboard-status-item">
                        <div class="dashboard-status-header">
                            <span class="dashboard-status-label">@Localizer["Database"]</span>
                            <span class="dashboard-status-value dashboard-status-value-success">@Localizer["Online"]</span>
                        </div>
                        <div class="dashboard-progress">
                            <div class="dashboard-progress-bar dashboard-progress-bar-success" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="dashboard-status-item">
                        <div class="dashboard-status-header">
                            <span class="dashboard-status-label">@Localizer["API Services"]</span>
                            <span class="dashboard-status-value dashboard-status-value-success">@Localizer["Running"]</span>
                        </div>
                        <div class="dashboard-progress">
                            <div class="dashboard-progress-bar dashboard-progress-bar-success" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="dashboard-status-item">
                        <div class="dashboard-status-header">
                            <span class="dashboard-status-label">@Localizer["Cache"]</span>
                            <span class="dashboard-status-value dashboard-status-value-success">@Localizer["Active"]</span>
                        </div>
                        <div class="dashboard-progress">
                            <div class="dashboard-progress-bar dashboard-progress-bar-success" style="width: 100%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Date & Time Card -->
            <div class="dashboard-card dashboard-card-primary">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["Dashboard.DateTime"]</h5>
                </div>
                <div class="dashboard-card-body">
                    <div class="dashboard-datetime-display">
                        <div class="dashboard-datetime-day" id="currentDay">@DateTime.Now.ToString("dddd")</div>
                        <div class="dashboard-datetime-date" id="currentDate">@DateTime.Now.ToString("MMMM dd, yyyy")</div>
                        <div class="dashboard-datetime-time" id="currentTime">@DateTime.Now.ToString("hh:mm:ss tt")</div>
                    </div>
                    <button type="button" class="dashboard-btn bg-red dashboard-btn-block" onclick="alert('@Localizer["Dashboard.AddTaskFeature"]')">
                        <i class="fas fa-plus"></i>
                        <span>@Localizer["Dashboard.AddTask"]</span>
                    </button>
                </div>
            </div>

            <!-- Calendar Card -->
            <div class="dashboard-card dashboard-card-success">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["Dashboard.Calendar"]</h5>
                </div>
                <div class="dashboard-card-body">
                    <div class="dashboard-calendar" id="dashboardCalendar"></div>
                    <button type="button" class="dashboard-btn dashboard-btn-success dashboard-btn-block" onclick="alert('@Localizer["Dashboard.AddTargetFeature"]')">
                        <i class="fas fa-bullseye"></i>
                        <span>@Localizer["Dashboard.AddTarget"]</span>
                    </button>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="dashboard-card bg-red">
                <div class="dashboard-card-header">
                    <h5 class="dashboard-card-title">@Localizer["Quick Actions"]</h5>
                </div>
                <div class="dashboard-card-body">
                    <div class="dashboard-actions-list">
                        <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/Administration/Management/Users" class="dashboard-action-item dashboard-action-item-danger">
                            <i class="fas fa-users"></i>
                            <span>@Localizer["Manage Users"]</span>
                        </a>
                        <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/Administration/Management/Content" class="dashboard-action-item dashboard-action-item-success">
                            <i class="fas fa-layer-group"></i>
                            <span>@Localizer["Manage Content"]</span>
                        </a>
                        <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/Analytics/Reports/Users" class="dashboard-action-item dashboard-action-item-info">
                            <i class="fas fa-chart-bar"></i>
                            <span>@Localizer["View Reports"]</span>
                        </a>
                        <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/Administration/Security" class="dashboard-action-item dashboard-action-item-warning">
                            <i class="fas fa-shield-halved"></i>
                            <span>@Localizer["Security Alerts"]</span>
                        </a>
                        <a href="/@ViewContext.RouteData.Values["culture"]/Dashboard/Administration/Settings" class="dashboard-action-item dashboard-action-item-secondary">
                            <i class="fas fa-cog"></i>
                            <span>@Localizer["System Settings"]</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="~/js/pages/dashboard.js"></script>
    <script>
        // Load Google Charts
        google.charts.load('current', {
            'packages': ['geochart'],
            'mapsApiKey': 'YOUR_API_KEY'
        });
        google.charts.setOnLoadCallback(drawGeoChart);

        // Activity Chart (Line)
        const activityCtx = document.getElementById('activityChart');
        const activityData = @Html.Raw(Json.Serialize(ViewBag.ActivityData ?? new List<int>()));
        const activityLabels = @Html.Raw(Json.Serialize(ViewBag.ActivityLabels ?? new List<string>()));

        let activityChart = new Chart(activityCtx, {
            type: 'line',
            data: {
                labels: activityLabels,
                datasets: [{
                    label: '@Localizer["User Registrations"]',
                    data: activityData,
                    borderColor: 'rgb(75, 192, 192)',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            precision: 0
                        }
                    }
                }
            }
        });

        // Store chart instance for period button functionality
        if (typeof DashboardPage !== 'undefined') {
            DashboardPage.setActivityChartInstance(activityChart);
        }

        // Content Distribution Chart (Doughnut)
        const contentCtx = document.getElementById('contentChart');
        const contentData = @Html.Raw(Json.Serialize(ViewBag.ContentData ?? new List<int>()));
        const contentLabels = @Html.Raw(Json.Serialize(ViewBag.ContentLabels ?? new List<string>()));

        new Chart(contentCtx, {
            type: 'doughnut',
            data: {
                labels: contentLabels,
                datasets: [{
                    data: contentData,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.8)',
                        'rgba(54, 162, 235, 0.8)',
                        'rgba(255, 206, 86, 0.8)',
                        'rgba(75, 192, 192, 0.8)',
                        'rgba(153, 102, 255, 0.8)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        // User Growth Chart (Line)
        const growthCtx = document.getElementById('growthChart');
        const growthData = @Html.Raw(Json.Serialize(ViewBag.GrowthData ?? new List<int>()));
        const growthLabels = @Html.Raw(Json.Serialize(ViewBag.GrowthLabels ?? new List<string>()));

        new Chart(growthCtx, {
            type: 'line',
            data: {
                labels: growthLabels,
                datasets: [{
                    label: '@Localizer["New Users"]',
                    data: growthData,
                    borderColor: 'rgb(153, 102, 255)',
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: true
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            precision: 0
                        }
                    }
                }
            }
        });

        // Geo Chart
        function drawGeoChart() {
            const locationData = @Html.Raw(Json.Serialize(ViewBag.LocationData ?? new Dictionary<string, int>()));
            
            const dataArray = [['Country', 'Users']];
            for (const [location, count] of Object.entries(locationData)) {
                dataArray.push([location, count]);
            }

            const data = google.visualization.arrayToDataTable(dataArray);

            const options = {
                colorAxis: {colors: ['#e0f2f1', '#00695c']},
                backgroundColor: '#f5f5f5',
                datalessRegionColor: '#f8bbd0',
                defaultColor: '#f5f5f5'
            };

            const chart = new google.visualization.GeoChart(document.getElementById('geoChart'));
            chart.draw(data, options);
        }

        // Update clock
        function updateClock() {
            const now = new Date();
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            
            document.getElementById('currentDay').textContent = days[now.getDay()];
            document.getElementById('currentDate').textContent = `${months[now.getMonth()]} ${now.getDate()}, ${now.getFullYear()}`;
            document.getElementById('currentTime').textContent = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
        }

        setInterval(updateClock, 1000);
        updateClock();

        // Simple calendar
        function generateCalendar() {
            const calendar = document.getElementById('dashboardCalendar');
            if (!calendar) return;

            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            let html = '<div class="dashboard-calendar-header">';
            html += '<div class="dashboard-calendar-month">' + now.toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) + '</div>';
            html += '</div>';
            html += '<div class="dashboard-calendar-grid">';
            html += '<div class="dashboard-calendar-day-name">S</div>';
            html += '<div class="dashboard-calendar-day-name">M</div>';
            html += '<div class="dashboard-calendar-day-name">T</div>';
            html += '<div class="dashboard-calendar-day-name">W</div>';
            html += '<div class="dashboard-calendar-day-name">T</div>';
            html += '<div class="dashboard-calendar-day-name">F</div>';
            html += '<div class="dashboard-calendar-day-name">S</div>';
            
            for (let i = 0; i < firstDay; i++) {
                html += '<div class="dashboard-calendar-day dashboard-calendar-day-empty"></div>';
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const isToday = day === now.getDate();
                html += `<div class="dashboard-calendar-day ${isToday ? 'dashboard-calendar-day-today' : ''}">${day}</div>`;
            }
            
            html += '</div>';
            calendar.innerHTML = html;
        }

        generateCalendar();
    </script>
}

