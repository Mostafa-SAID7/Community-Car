@model CommunityCar.Mvc.ViewModels.Qa.EditCommentViewModel

<div class="edit-comment-form">
    <form asp-controller="Comments" asp-action="Edit" asp-route-id="@Model.Id" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" asp-for="Id" />
        <input type="hidden" asp-for="AnswerId" />
        
        <div class="mb-3">
            <textarea asp-for="Content" 
                      class="form-control" 
                      rows="3" 
                      maxlength="1000"></textarea>
            <span asp-validation-for="Content" class="text-danger"></span>
            <small class="form-text text-muted">
                <span class="char-count">@Model.Content.Length</span> / 1000 characters
            </small>
        </div>
        
        <div class="d-flex justify-content-end gap-2">
            <button type="button" class="btn btn-sm btn-secondary cancel-edit-btn">
                Cancel
            </button>
            <button type="submit" class="btn btn-sm btn-primary">
                <i class="fas fa-save me-1"></i> Save Changes
            </button>
        </div>
    </form>
</div>

<script>
    $(document).ready(function() {
        // Character counter
        $('.edit-comment-form textarea').on('input', function() {
            const length = $(this).val().length;
            $(this).closest('.edit-comment-form').find('.char-count').text(length);
        });
    });
</script>
