<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Community Feed - Community Car</title>
    
    <link rel="icon" type="image/png" href="/images/logo/logo.png" />

    <!-- Inline Theme Loader - Must run before any CSS to prevent flash -->
    <script>
        (function() {
            const THEME_KEY = 'community-car-theme';
            const savedTheme = localStorage.getItem(THEME_KEY);
            
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
            } else if (savedTheme === 'light') {
                document.documentElement.removeAttribute('data-theme');
            } else {
                // Check system preference if no saved theme
                const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                if (prefersDark) {
                    document.documentElement.setAttribute('data-theme', 'dark');
                }
            }
        })();
    </script>

    <!-- Libraries CSS -->
        <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/lib/toastr.js/toastr.min.css" />
    <link rel="stylesheet" href="/lib/sweetalert2/sweetalert2.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" defer></script>
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="/css/site.css?v=kpD5L98YinluhcsNld0gqCULNff_Mn4IChU1OCyAuio" />
    
    <link rel="stylesheet" href="/css/feed.css" />

</head>
<body data-authenticated="false" data-page="generic">
    
<header class="app-header">
    <div class="container-fluid h-100 d-flex align-items-center justify-content-between px-3 px-lg-4">
        <!-- Left: Logo & Sidebar Toggle -->
        <div class="header-left d-flex align-items-center gap-3">
            <button id="sidebarToggle" class="btn btn-icon d-md-none p-0" aria-label="Toggle Sidebar">
                <i class="fas fa-bars fa-lg"></i>
            </button>
            <a class="navbar-brand d-flex align-items-center gap-2" href="/en/Feed">
                <!-- Placeholder Logo -->
                <div class="brand-logo-circle size-32">
                    <i class="fas fa-car-side"></i>
                </div>
                <span class="brand-text fw-bold fs-5 d-none d-sm-block">CommunityCar</span>
            </a>
        </div>

        <!-- Center: Pill Navigation (Desktop Only) -->
        <div class="header-center  d-md-flex align-items-center justify-content-center flex-grow-1">
            <div class="header-pill d-flex align-items-center">
                
                   <!-- Nav Links -->
                <nav class="pill-nav d-flex align-items-center gap-1">
                    <a class="nav-link px-3 py-1 rounded-pill" title="Home" href="/en/Feed">
                        <i class="fas fa-house fa-lg"></i>
                    </a>
                    <a class="nav-link px-3 py-1 rounded-pill position-relative" title="Chat" href="/Communications/Chats">
                        <i class="fas fa-messages fa-lg"></i>
                        <span id="chatUnreadBadge" class="notification-badge badge-xs bg-primary-premium d-none">0</span>
                    </a>
                    <a class="nav-link px-3 py-1 rounded-pill position-relative" title="Friends" href="/en/Friends">
                        <i class="fas fa-user-group fa-lg"></i>
                        <span id="friendRequestBadge" class="notification-badge badge-xs bg-success-premium d-none">0</span>
                    </a>
                </nav>

                <!-- Search -->
                <div class="pill-search position-relative">
                    <form method="get" class="d-flex align-items-center w-100" action="/en/Search">
                        <i class="fas fa-magnifying-glass search-icon"></i>
                        <input type="text" name="query" id="globalSearchInput" 
                               class="form-control border-0 bg-transparent shadow-none" 
                               placeholder="Search..." 
                               aria-label="Search" 
                               autocomplete="off"
                               data-see-all-label="See all results for"
                               data-no-results-label="No results found">
                    </form>
                    <div id="liveSearchResults" class="live-search-results d-none shadow-premium mt-1 rounded-4">
                        <!-- Live results will be injected here -->
                    </div>
                </div>
                
            </div>
        </div>

        <!-- Right: Actions -->
        <div class="header-right d-flex align-items-center gap-2 gap-md-3">
            
            <!-- Quick Create -->
            <a class="btn btn-icon text-primary p-1" title="Ask Question" href="/en/Questions/Create">
                <i class="fas fa-circle-plus fa-lg"></i>
            </a>

            <!-- Admin Dashboard Link -->

            <!-- Notifications -->
            <div class="dropdown me-1">
                <button class="btn btn-icon p-1 position-relative" type="button" id="notificationDropdown" data-bs-toggle="dropdown" aria-expanded="false" title="Notifications">
                    <i class="fas fa-bell fa-lg"></i>
                    <span id="notificationBadge" class="notification-badge badge-xs bg-danger d-none">
                        0
                    </span>
                </button>
                <div class="dropdown-menu dropdown-menu-end dropdown-menu-320 shadow-lg border-0 mt-2 p-0" aria-labelledby="notificationDropdown">
                    <div class="p-3 border-bottom d-flex align-items-center justify-content-between bg-tertiary rounded-top">
                        <h6 class="mb-0 fw-bold">Notifications</h6>
                        <a href="javascript:void(0)" onclick="markAllNotificationsAsRead()" class="text-xs text-primary text-decoration-none">Mark all as read</a>
                    </div>
                    <div id="notificationList" class="notification-list">
                        <!-- Notifications will be loaded here via AJAX -->
                        <div class="p-4 text-center text-muted">
                            <i class="fas fa-bell-slash fa-2x mb-2 opacity-25"></i>
                            <p class="mb-0 small">No new notifications</p>
                        </div>
                    </div>
                    <a class="dropdown-item text-center p-2 border-top small fw-bold text-primary rounded-bottom" href="/Communications/Notifications">
                        View All Notifications
                    </a>
                </div>
            </div>
            <!-- Language Toggle -->
            <form method="post" class="d-inline" action="/Culture/SetLanguage">
                <input type="hidden" name="culture" value="ar" />
                <input type="hidden" name="returnUrl" value="/en/Feed" />
                <button type="submit" class="btn btn-icon btn-sm text-secondary rounded-circle me-1" title="Switch to Arabic">
                    <i class="fas fa-language fa-lg"></i>
                </button>
            <input name="__RequestVerificationToken" type="hidden" value="CfDJ8MIbOPA5eRFEka-vt-7psKyEEbJ8j5D1zSqU52YsTMx1jshWXfaXngTP7xpbe21ilESYdt6FVdvSXWXu1SfcroBWUKrylqOfi7Ud8Xy2nzd16FrvC6WW_QzipA-SWI3ARjVsqF4geIVKGa_LlNWNqv8" /></form>

            <!-- Theme Toggle -->
            <button class="theme-toggle-icon btn btn-icon rounded-circle" aria-label="Toggle theme" title="Toggle Theme">
                <i class="fas fa-moon theme-icon-moon"></i>
                <i class="fas fa-sun theme-icon-sun"></i>
            </button>

            <!-- Badges/Awards -->
            <a class="btn btn-icon p-1" title="Badges &amp; Achievements" href="/en/Badges">
                <i class="fas fa-trophy fa-lg"></i>
            </a>
            
            <!-- User Avatar -->
            <div class="dropdown">
                <a href="#" class="d-block text-decoration-none header-user-link" data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="https://ui-avatars.com/api/?name=User&background=random" alt="mdo" width="38" height="38" class="rounded-circle border border-2 border-light shadow-sm">
                </a>
                <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0 mt-2">
                    <li><a class="dropdown-item" href="/en/Identity/Profiles">Profile</a></li>
                    <li><a class="dropdown-item" href="/en/Identity/Profiles/Settings">Settings</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li>
                        <form class="form-inline" method="post" action="/Logout?returnUrl=%2Fen%2FFeed">
                            <button type="submit" class="dropdown-item text-danger">Sign out</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8MIbOPA5eRFEka-vt-7psKyEEbJ8j5D1zSqU52YsTMx1jshWXfaXngTP7xpbe21ilESYdt6FVdvSXWXu1SfcroBWUKrylqOfi7Ud8Xy2nzd16FrvC6WW_QzipA-SWI3ARjVsqF4geIVKGa_LlNWNqv8" /></form>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</header>

    
    <main b-z2txbpjh20 role="main" class="container-fluid my-4">
            <div b-z2txbpjh20 class="row g-4">
                <!-- Left Sidebar (Desktop: 2 cols, Mobile: toggleable offcanvas) -->
                <div b-z2txbpjh20 class="col-lg-2 sidebar-left">
                    <div b-z2txbpjh20 class="sidebar-sticky">
                            
<div class="list-group list-group-flush border-0">
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded active" href="/en/Feed">
        <i class="fas fa-home fa-fw me-3"></i>
        <span class="fw-medium">Feed</span>
    </a>
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/Questions">
        <i class="fas fa-question-circle fa-fw me-3"></i>
        <span class="fw-medium">Questions</span>
    </a>
    

    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/Friends">
        <i class="fas fa-user-friends fa-fw me-3"></i>
        <span class="fw-medium">Friends</span>
    </a>
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/Groups">
        <i class="fas fa-users fa-fw me-3"></i>
        <span class="fw-medium">Groups</span>
    </a>
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/Events">
        <i class="fas fa-calendar-alt fa-fw me-3"></i>
        <span class="fw-medium">Events</span>
    </a>
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/Reviews">
        <i class="fas fa-star fa-fw me-3"></i>
        <span class="fw-medium">Reviews</span>
    </a>
    
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/Posts">
        <i class="fas fa-edit fa-fw me-3"></i>
        <span class="fw-medium">Posts</span>
    </a>
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/Maps">
        <i class="fas fa-map-marked-alt fa-fw me-3"></i>
        <span class="fw-medium">Maps</span>
    </a>
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/Guides">
        <i class="fas fa-book-open fa-fw me-3"></i>
        <span class="fw-medium">Guides</span>
    </a>
    <a class="list-group-item list-group-item-action border-0 d-flex align-items-center bg-transparent px-3 py-2 mb-1 rounded " href="/en/News">
        <i class="fas fa-newspaper fa-fw me-3"></i>
        <span class="fw-medium">News</span>
    </a>
    
</div>


                    </div>
                </div>

                <!-- Main Content (Desktop: 7 cols, Tablet: 9 cols, Mobile: 12 cols) -->
                <div b-z2txbpjh20 class="col-12 col-md-9 col-lg-7">
                    




<div class="inner-page-header">
    <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
        <div>
            <h1 class="mb-2 fw-bold">
                <i class="fas fa-stream me-2"></i>Community Feed
            </h1>
                <p class="mb-0 opacity-90">Latest updates from the community</p>
        </div>
            <div class="header-actions">
                <div class='btn-group' role='group'><a href='/en/Feed?sortBy=Recent' class='btn btn-sm btn-light active'><i class='fas fa-clock'></i> Recent</a><a href='/en/Feed/Popular' class='btn btn-sm btn-light '><i class='fas fa-fire'></i> Popular</a><a href='/en/Feed/Trending' class='btn btn-sm btn-light '><i class='fas fa-chart-line'></i> Trending</a></div>
            </div>
    </div>
</div>


<!-- Filters -->
<div class="card mb-4">
    <div class="card-body">
        <form method="get" class="row g-3" action="/en/Feed">
            <div class="col-md-3">
                <label class="form-label">Content Type</label>
                <select name="type" class="form-select form-select-sm">
                    <option value="">All Content</option>
                    <option value="0">Posts</option>
                    <option value="1">Questions</option>
                    <option value="2">Events</option>
                    <option value="3">News</option>
                    <option value="4">Guides</option>
                    <option value="5">Reviews</option>
                    <option value="6">Groups</option>
                </select>
            </div>
            <div class="col-md-3">
                <label class="form-label">Date Filter</label>
                <select name="dateFilter" class="form-select form-select-sm">
                    <option value="0" selected="selected">All Time</option>
                    <option value="1">Today</option>
                    <option value="2">This Week</option>
                    <option value="3">This Month</option>
                </select>
            </div>
            <div class="col-md-4">
                <label class="form-label">Search</label>
                <input type="text" name="search" class="form-control form-control-sm" placeholder="Search content..." />
            </div>
            <div class="col-md-2 d-flex align-items-end">
                <button type="submit" class="btn btn-primary btn-sm w-100">
                    <i class="fas fa-filter"></i> Filter
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Feed Items -->
    <div class="card">
        <div class="card-body text-center py-5">
            <i class="fas fa-inbox fa-3x text-muted mb-3"></i>
            <h5 class="text-muted">No content found</h5>
            <p class="text-muted">Try adjusting your filters or check back later for new content.</p>
        </div>
    </div>


                </div>

                <!-- Right Sidebar (Desktop: 3 cols, Hidden on Tablet and Mobile) -->
                <div b-z2txbpjh20 class="col-lg-3 sidebar-right">
                    <div b-z2txbpjh20 class="sidebar-sticky">

    
<!-- Trending Topics Widget -->
<div class="card border-0 shadow-sm mb-4 rounded-4">
    <div class="card-body">
        <h6 class="card-title fw-bold mb-3">Trending Topics</h6>
        <div class="d-flex flex-wrap gap-2">
            <a href="#" class="badge bg-light text-dark text-decoration-none border p-2">#CarMaintenance</a>
            <a href="#" class="badge bg-light text-dark text-decoration-none border p-2">#BMWSeries3</a>
            <a href="#" class="badge bg-light text-dark text-decoration-none border p-2">#ElectricVehicles</a>
            <a href="#" class="badge bg-light text-dark text-decoration-none border p-2">#RoadTrips</a>
        </div>
    </div>
</div>

<!-- Suggested Friends Widget -->
<div class="card border-0 shadow-sm mb-4 rounded-4">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h6 class="card-title fw-bold m-0">Suggested Friends</h6>
            <a href="#" class="text-decoration-none small">See All</a>
        </div>
        
        <div class="d-flex align-items-center mb-3">
            <img src="https://ui-avatars.com/api/?name=Ali+Hassan&background=random" class="rounded-circle me-3" width="40" height="40" alt="Ali">
            <div class="flex-grow-1">
                <h6 class="m-0 small fw-bold">Ali Hassan</h6>
                <small class="text-muted" class="text-xs">2 Mutual Friends</small>
            </div>
            <button class="btn btn-outline-primary btn-sm rounded-circle p-1" class="size-32"><i class="fas fa-user-plus fa-xs"></i></button>
        </div>

        <div class="d-flex align-items-center">
            <img src="https://ui-avatars.com/api/?name=Sara+Ahmed&background=random" class="rounded-circle me-3" width="40" height="40" alt="Sara">
            <div class="flex-grow-1">
                <h6 class="m-0 small fw-bold">Sara Ahmed</h6>
                <small class="text-muted" class="text-xs">New Member</small>
            </div>
            <button class="btn btn-outline-primary btn-sm rounded-circle p-1" class="size-32"><i class="fas fa-user-plus fa-xs"></i></button>
        </div>
    </div>
</div>

                    </div>
                </div>
            </div>
    </main>
    
    <footer class="border-top footer py-3 mt-auto">
    <div class="container">
        <div class="footer-inline">
            <a class="footer-link" href="/en/Info/Terms">
                <i class="fas fa-file-contract me-1"></i>Terms of Service
            </a>
            <span class="footer-separator">·</span>
            <a class="footer-link" href="/en/Info/Privacy">
                <i class="fas fa-shield-alt me-1"></i>Privacy Policy
            </a>
            <span class="footer-separator">·</span>
            <a class="footer-link" href="/en/Info/About">
                <i class="fas fa-info-circle me-1"></i>About Us
            </a>
            <span class="footer-separator">·</span>
            <span class="footer-copyright">
                &copy; 2026 CommunityCar. All rights reserved. Made with
                <i class="fas fa-heart text-danger"></i> for car enthusiasts.
            </span>
        </div>
    </div>
</footer>


    <!-- Sidebar Backdrop -->
    <div b-z2txbpjh20 class="sidebar-backdrop"></div>

    <!-- Libraries JS -->
    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <script src="/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/lib/toastr.js/toastr.min.js"></script>
    <script src="/lib/sweetalert2/sweetalert2.min.js"></script>
    <script src="/lib/chart.js/chart.umd.min.js"></script>

    <!-- Culture Helper (must load early) -->
    <script src="/js/culture-helper.js"></script>

    <!-- Core Architecture - Load First -->
    <script src="/js/utils/common-utils.js"></script>
    <script src="/js/utils/dom-utils.js"></script>
    <script src="/js/core/event-bus.js"></script>
    <script src="/js/core/api-client.js"></script>
    <script src="/js/core/config.js"></script>
    
    <!-- Utils Modular JS -->
    <script src="/js/utils/validators.js"></script>
    <script src="/js/utils/theme-manager.js"></script>
    
    <!-- Layout Modular JS -->
    <script src="/js/layout/header.js"></script>
    <script src="/js/layout/navigation.js"></script>
    <script src="/js/layout/sidebar.js"></script>
    
    <!-- Component Modular JS -->
    <script src="/js/components/modal.js"></script>
    <script src="/js/components/dropdown.js"></script>
    <script src="/js/components/toast.js"></script>
    <script src="/js/components/charts.js"></script>
    <script src="/lib/microsoft/signalr/dist/browser/signalr.min.js"></script>
    <script src="/js/components/notification.js"></script>
    
    <!-- Storage Manager -->
    <script src="/js/storage-manager.js"></script>
    
    <!-- Error Monitor & Dev Tools (Development) -->
    <script src="/js/utils/error-monitor.js"></script>
    <script src="/js/utils/dev-tools.js"></script>
    
    <!-- Application Core - Initialize App -->
    <script src="/js/core/app.js"></script>
    
    <!-- Legacy Scripts (To be refactored) -->
    <script src="/js/site.js?v=xb69w4iK5wn-omzO_-mQGzkz9tid9fsNzr9v9fvX23k"></script>

    <!-- Global I18n for JS -->
    <script>
        window.I18n = {
            culture: 'en',
            isRtl: false,
            translations: {
                notifications: {
                    newFriendRequest: 'New Friend Request',
                    noNewNotifications: 'No new notifications',
                    failedToLoadNotifications: 'Failed to load notifications',
                    viewAll: 'View All Notifications',
                    accept: 'Accept',
                    decline: 'Decline',
                    markAllRead: 'Mark all as read',
                    title: 'Notifications'
                },
                chat: {
                    newMessage: 'New message received'
                },
                alerts: {
                    great: 'Great!',
                    yes: 'Yes, do it!',
                    cancel: 'Cancel'
                },
                common: {
                    search: 'Search...',
                    tryAgain: 'Try again'
                }
            }
        };
    </script>

    <!-- TempData Toast Notifications -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        });
    </script>

    
    <script src="/js/feed.js"></script>
    <script>
        $(document).ready(function() {
            // Smooth scroll to top when pagination is clicked
            $('.pagination a').on('click', function() {
                $('html, body').animate({ scrollTop: 0 }, 300);
            });

            // Add hover effect to feed items
            $('.feed-item').hover(
                function() { $(this).addClass('shadow-sm'); },
                function() { $(this).removeClass('shadow-sm'); }
            );
        });
    </script>

</body>
</html>
